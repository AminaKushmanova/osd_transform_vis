{"version":3,"file":"transformVis.chunk.1.js","sources":["/plugin:transformVis/plugins/osdTransformViz/public/index.scss?v7dark?v7dark","/plugin:transformVis/plugins/osdTransformViz/public/index.scss?v7light?v7light","/plugin:transformVis/plugins/osdTransformViz/public/index.scss","webpack:///./public/index.scss?d9f9","webpack:///./public/index.scss?0394","/plugin:transformVis/plugins/osdTransformViz/public/on_mount.tsx","/plugin:transformVis/plugins/osdTransformViz/public/transform_vis_controller.tsx"],"sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(true);\n// Module\nexports.push([module.id, \".visEditor--transform .visEditorSidebar__config > *,\\n.visEditor--transform .visEditor--transform__textarea {\\n  flex-grow: 1;\\n  min-height: 200px; }\\n\\n.transform-vis-editor {\\n  display: flex;\\n  flex-direction: column;\\n  height: 100%;\\n  min-height: 100%; }\\n\\n.transform-vis-editor [role=\\\"tabpanel\\\"] {\\n  display: flex;\\n  flex-direction: column;\\n  flex: 1;\\n  overflow: auto; }\\n\\n.output-vis {\\n  width: 100%; }\\n\", \"\",{\"version\":3,\"sources\":[\"index.scss\"],\"names\":[],\"mappings\":\"AAAA;;EAEE,YAAY;EACZ,iBAAiB,EAAE;;AAErB;EACE,aAAa;EACb,sBAAsB;EACtB,YAAY;EACZ,gBAAgB,EAAE;;AAEpB;EACE,aAAa;EACb,sBAAsB;EACtB,OAAO;EACP,cAAc,EAAE;;AAElB;EACE,WAAW,EAAE\",\"file\":\"index.scss\",\"sourcesContent\":[\".visEditor--transform .visEditorSidebar__config > *,\\n.visEditor--transform .visEditor--transform__textarea {\\n  flex-grow: 1;\\n  min-height: 200px; }\\n\\n.transform-vis-editor {\\n  display: flex;\\n  flex-direction: column;\\n  height: 100%;\\n  min-height: 100%; }\\n\\n.transform-vis-editor [role=\\\"tabpanel\\\"] {\\n  display: flex;\\n  flex-direction: column;\\n  flex: 1;\\n  overflow: auto; }\\n\\n.output-vis {\\n  width: 100%; }\\n\"]}]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(true);\n// Module\nexports.push([module.id, \".visEditor--transform .visEditorSidebar__config > *,\\n.visEditor--transform .visEditor--transform__textarea {\\n  flex-grow: 1;\\n  min-height: 200px; }\\n\\n.transform-vis-editor {\\n  display: flex;\\n  flex-direction: column;\\n  height: 100%;\\n  min-height: 100%; }\\n\\n.transform-vis-editor [role=\\\"tabpanel\\\"] {\\n  display: flex;\\n  flex-direction: column;\\n  flex: 1;\\n  overflow: auto; }\\n\\n.output-vis {\\n  width: 100%; }\\n\", \"\",{\"version\":3,\"sources\":[\"index.scss\"],\"names\":[],\"mappings\":\"AAAA;;EAEE,YAAY;EACZ,iBAAiB,EAAE;;AAErB;EACE,aAAa;EACb,sBAAsB;EACtB,YAAY;EACZ,gBAAgB,EAAE;;AAEpB;EACE,aAAa;EACb,sBAAsB;EACtB,OAAO;EACP,cAAc,EAAE;;AAElB;EACE,WAAW,EAAE\",\"file\":\"index.scss\",\"sourcesContent\":[\".visEditor--transform .visEditorSidebar__config > *,\\n.visEditor--transform .visEditor--transform__textarea {\\n  flex-grow: 1;\\n  min-height: 200px; }\\n\\n.transform-vis-editor {\\n  display: flex;\\n  flex-direction: column;\\n  height: 100%;\\n  min-height: 100%; }\\n\\n.transform-vis-editor [role=\\\"tabpanel\\\"] {\\n  display: flex;\\n  flex-direction: column;\\n  flex: 1;\\n  overflow: auto; }\\n\\n.output-vis {\\n  width: 100%; }\\n\"]}]);\n// Exports\nmodule.exports = exports;\n","\nswitch (window.__osdThemeTag__) {\n  case 'v7dark':\n    return require(\"./index.scss?v7dark\");\n\n  case 'v7light':\n    return require(\"./index.scss?v7light\");\n\n  case 'v8dark':\n    console.error(new Error(\"SASS files in [transformVis] were not built for theme [v8dark]. Styles were compiled using the [v7dark] theme instead to keep OpenSearch Dashboards somewhat usable. Please adjust the advanced settings to make use of [v7dark,v7light] or make sure the OSD_OPTIMIZER_THEMES environment variable includes [v8dark] in a comma separated list of themes you want to compile. You can also set it to \\\"*\\\" to build all themes.\"));\n    return require(\"./index.scss?v7dark\")\n\n  case 'v8light':\n    console.error(new Error(\"SASS files in [transformVis] were not built for theme [v8light]. Styles were compiled using the [v7light] theme instead to keep OpenSearch Dashboards somewhat usable. Please adjust the advanced settings to make use of [v7dark,v7light] or make sure the OSD_OPTIMIZER_THEMES environment variable includes [v8light] in a comma separated list of themes you want to compile. You can also set it to \\\"*\\\" to build all themes.\"));\n    return require(\"./index.scss?v7light\")\n}","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-oneOf-0-3!./index.scss?v7dark\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--6-oneOf-1-3!./index.scss?v7light\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\n\nclass OnMount extends React.Component {\n  componentDidMount() {\n    this.props.onMount();\n  }\n\n  componentDidUpdate() {\n    this.props.onUpdate();\n  }\n\n  render() {\n    return (\n      /*#__PURE__*/\n      // eslint-disable-next-line react/no-danger,prettier/prettier\n      React.createElement(\"div\", {\n        ref: this.props.forwardedRef,\n        dangerouslySetInnerHTML: this.props.dangerouslySetInnerHTML\n      })\n    );\n  }\n\n} // eslint-disable-next-line import/no-default-export\n\n\nexport default /*#__PURE__*/React.forwardRef((props, ref) => {\n  return /*#__PURE__*/React.createElement(OnMount, _extends({}, props, {\n    forwardedRef: ref\n  }));\n});","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport '@webcomponents/shadydom';\nimport React from 'react'; // @ts-ignore\n\nimport ShadowDOM from 'react-shadow'; // @ts-ignore\n\nimport { saveAs } from '@elastic/filesaver';\nimport OnMount from './on_mount';\nimport './index.scss';\n\n/**\n * The TransformVisComponent renders transform to HTML and presents it.\n */\nclass TransformVisComponent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"transformVis\", /*#__PURE__*/React.createRef());\n\n    this.afterRender = this.afterRender.bind(this);\n  }\n\n  async afterRender() {\n    if (this.props.meta && typeof this.props.meta.after_render === 'function' && this.transformVis.current && this.transformVis.current.parentNode && this.transformVis.current.parentNode instanceof ShadowRoot) {\n      const root = this.transformVis.current.parentNode;\n\n      try {\n        await this.props.meta.after_render.bind({\n          el: root.host.parentNode,\n          container: root.host,\n          root,\n          vis: { ...this.props,\n            API: { ...this.props.vis,\n              timeFilter: {//getBounds: this.props.data.query.timefilter.timefilter.getBounds.bind(this.props.timefilter),\n                //getActiveBounds: this.props.data.query.timefilter.timefilter.getActiveBounds.bind(this.props.timefilter),\n                //getTime: this.props.data.query.timefilter.timefilter.getTime.bind(this.props.timefilter),\n              }\n            },\n            size: [root.host.clientWidth, root.host.clientHeight]\n          },\n          //es: this.props.es,\n          context: this.props.context,\n          timeRange: this.props.timeRange,\n          //timefilter: this.props.data.query.timefilter.timefilter,\n          timefilter: this.props.timefilter,\n          //filterManager: this.props.data.query.filterManager,\n          meta: this.props.meta,\n          saveAs\n        })();\n      } catch (err) {\n        // eslint-disable-next-line no-console\n        console.error(`Error executing after_render for '${(this.props.vis || {}).title}':`, err);\n      }\n    }\n\n    this.props.renderComplete();\n  }\n  /**\n   * Render the actual HTML.\n   */\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(ShadowDOM, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"output-vis\"\n    }, /*#__PURE__*/React.createElement(OnMount, {\n      ref: this.transformVis,\n      onMount: this.afterRender,\n      onUpdate: this.afterRender,\n      dangerouslySetInnerHTML: {\n        __html: this.props.transform\n      }\n    })));\n  }\n\n}\n\nexport { TransformVisComponent as default };"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpBA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC/BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}