{"attributes":{"description":"","kibanaSavedObjectMeta":{"searchSourceJSON":"{\"query\":{\"query\":\"\",\"language\":\"kuery\"},\"filter\":[]}"},"title":"sample_decisionTree","uiStateJSON":"{}","version":1,"visState":"{\"title\":\"sample_decisionTree\",\"type\":\"transform\",\"aggs\":[],\"params\":{\"meta\":\"({\\nafter_render: function() {\\n // Dive: on charge le JS qui va bien\\n $.getScript(\\\"https://d3js.org/d3.v3.min.js\\\")\\n     .done(function(script, textStatus) {\\n             console.log(\\\"Import Datatable Complete\\\");\\n\\n\\n                 // Dive: Get decion tree location from shadow DOM\\n                 let decisionTree;\\n                 const elements = $('.output-vis');\\n                 let shadow;\\n                 for (let elem of elements) {\\n                     shadow = elem.shadowRoot;\\n                     decisionTree = $(shadow).find(\\\"#dataView\\\");\\n                     if ($(decisionTree).length > 0) {\\n                         break;\\n                     }\\n                 }\\n                 var label_names;\\n\\n                 var TOTAL_SIZE;\\n                 let default_colors = [\\n                     \\\"#c25975\\\", \\\"#d26bff\\\", \\\"#2d5a47\\\", \\\"#093868\\\", \\\"#fcdfe6\\\", \\\"#94a2fa\\\", \\\"#faec94\\\", \\\"#decaee\\\", \\\"#daeeca\\\", \\\"#b54c0a\\\", \\\"#dc1818\\\", \\\"#18dcdc\\\", \\\"#000000\\\", \\\"#340000\\\", \\\"#86194c\\\", \\\"#fef65b\\\", \\\"#ff9b6f\\\", \\\"#491b47\\\", \\\"#171717\\\", \\\"#e8efec\\\", \\\"#1c6047\\\", \\\"#a2bae0\\\", \\\"#4978c3\\\", \\\"#f8fee0\\\", \\\"#dcfb66\\\", \\\"#91fb66\\\", \\\"#29663b\\\", \\\"#b4b7be\\\", \\\"#0088b2\\\", \\\"#88b200\\\", \\\"#c43210\\\", \\\"#f06848\\\", \\\"#f0bc48\\\", \\\"#d293a2\\\", \\\"#cccccc\\\", \\\"#59596a\\\", \\\"#fafae6\\\", \\\"#ffc125\\\", \\\"#ff4e50\\\", \\\"#f0e6fa\\\", \\\"#f6c1c3\\\", \\\"#363636\\\"\\n                 ]\\n\\n\\n\\n                 //************************************* Options******************************************************//\\n\\n                 const myData = `{\\n    \\\"name\\\": \\\"Root >\\\",\\n    \\\"pred\\\": \\\"4000 of no, 521 of yes\\\",\\n    \\\"children\\\": [\\n        {\\n            \\\"children\\\": [\\n                {\\n                    \\\"children\\\": [\\n                        {\\n                            \\\"children\\\": [\\n                                {\\n                                    \\\"children\\\": [\\n                                        {\\n                                            \\\"name\\\": \\\"balance > 662.5\\\",\\n                                            \\\"pred\\\": \\\"7 of no, 8 of yes\\\",\\n                                            \\\"type\\\": \\\"numerical\\\",\\n                                            \\\"side\\\": \\\"right\\\",\\n                                            \\\"size\\\": 15.0\\n                                        },\\n                                        {\\n                                            \\\"name\\\": \\\"balance <= 662.5\\\",\\n                                            \\\"pred\\\": \\\"1 of no, 11 of yes\\\",\\n                                            \\\"type\\\": \\\"numerical\\\",\\n                                            \\\"side\\\": \\\"left\\\",\\n                                            \\\"size\\\": 12.0\\n                                        }\\n                                    ],\\n                                    \\\"name\\\": \\\"campaign > 3.5\\\",\\n                                    \\\"side\\\": \\\"right\\\",\\n                                    \\\"type\\\": \\\"numerical\\\",\\n                                    \\\"size\\\": 27.0,\\n                                    \\\"pred\\\": \\\"8 of no, 19 of yes\\\"\\n                                },\\n                                {\\n                                    \\\"children\\\": [\\n                                        {\\n                                            \\\"name\\\": \\\"job = technician\\\",\\n                                            \\\"pred\\\": \\\"2 of no, 7 of yes\\\",\\n                                            \\\"type\\\": \\\"categorical\\\",\\n                                            \\\"side\\\": \\\"right\\\",\\n                                            \\\"size\\\": 9.0\\n                                        },\\n                                        {\\n                                            \\\"name\\\": \\\"job != technician\\\",\\n                                            \\\"pred\\\": \\\"49 of no, 34 of yes\\\",\\n                                            \\\"type\\\": \\\"categorical\\\",\\n                                            \\\"side\\\": \\\"left\\\",\\n                                            \\\"size\\\": 83.0\\n                                        }\\n                                    ],\\n                                    \\\"name\\\": \\\"campaign <= 3.5\\\",\\n                                    \\\"side\\\": \\\"left\\\",\\n                                    \\\"type\\\": \\\"numerical\\\",\\n                                    \\\"size\\\": 92.0,\\n                                    \\\"pred\\\": \\\"51 of no, 41 of yes\\\"\\n                                }\\n                            ],\\n                            \\\"name\\\": \\\"contact = cellular\\\",\\n                            \\\"side\\\": \\\"right\\\",\\n                            \\\"type\\\": \\\"categorical\\\",\\n                            \\\"size\\\": 119.0,\\n                            \\\"pred\\\": \\\"59 of no, 60 of yes\\\"\\n                        },\\n                        {\\n                            \\\"children\\\": [\\n                                {\\n                                    \\\"children\\\": [\\n                                        {\\n                                            \\\"name\\\": \\\"poutcome = success\\\",\\n                                            \\\"pred\\\": \\\"1 of no, 0 of yes\\\",\\n                                            \\\"type\\\": \\\"categorical\\\",\\n                                            \\\"side\\\": \\\"right\\\",\\n                                            \\\"size\\\": 1.0\\n                                        },\\n                                        {\\n                                            \\\"name\\\": \\\"poutcome != success\\\",\\n                                            \\\"pred\\\": \\\"0 of no, 7 of yes\\\",\\n                                            \\\"type\\\": \\\"categorical\\\",\\n                                            \\\"side\\\": \\\"left\\\",\\n                                            \\\"size\\\": 7.0\\n                                        }\\n                                    ],\\n                                    \\\"name\\\": \\\"job = retired\\\",\\n                                    \\\"side\\\": \\\"right\\\",\\n                                    \\\"type\\\": \\\"categorical\\\",\\n                                    \\\"size\\\": 8.0,\\n                                    \\\"pred\\\": \\\"1 of no, 7 of yes\\\"\\n                                },\\n                                {\\n                                    \\\"children\\\": [\\n                                        {\\n                                            \\\"name\\\": \\\"duration > 1249.5\\\",\\n                                            \\\"pred\\\": \\\"4 of no, 7 of yes\\\",\\n                                            \\\"type\\\": \\\"numerical\\\",\\n                                            \\\"side\\\": \\\"right\\\",\\n                                            \\\"size\\\": 11.0\\n                                        },\\n                                        {\\n                                            \\\"name\\\": \\\"duration <= 1249.5\\\",\\n                                            \\\"pred\\\": \\\"56 of no, 11 of yes\\\",\\n                                            \\\"type\\\": \\\"numerical\\\",\\n                                            \\\"side\\\": \\\"left\\\",\\n                                            \\\"size\\\": 67.0\\n                                        }\\n                                    ],\\n                                    \\\"name\\\": \\\"job != retired\\\",\\n                                    \\\"side\\\": \\\"left\\\",\\n                                    \\\"type\\\": \\\"categorical\\\",\\n                                    \\\"size\\\": 78.0,\\n                                    \\\"pred\\\": \\\"60 of no, 18 of yes\\\"\\n                                }\\n                            ],\\n                            \\\"name\\\": \\\"contact != cellular\\\",\\n                            \\\"side\\\": \\\"left\\\",\\n                            \\\"type\\\": \\\"categorical\\\",\\n                            \\\"size\\\": 86.0,\\n                            \\\"pred\\\": \\\"61 of no, 25 of yes\\\"\\n                        }\\n                    ],\\n                    \\\"name\\\": \\\"marital = married\\\",\\n                    \\\"side\\\": \\\"right\\\",\\n                    \\\"type\\\": \\\"categorical\\\",\\n                    \\\"size\\\": 205.0,\\n                    \\\"pred\\\": \\\"120 of no, 85 of yes\\\"\\n                },\\n                {\\n                    \\\"children\\\": [\\n                        {\\n                            \\\"children\\\": [\\n                                {\\n                                    \\\"children\\\": [\\n                                        {\\n                                            \\\"name\\\": \\\"duration > 1020.5\\\",\\n                                            \\\"pred\\\": \\\"3 of no, 15 of yes\\\",\\n                                            \\\"type\\\": \\\"numerical\\\",\\n                                            \\\"side\\\": \\\"right\\\",\\n                                            \\\"size\\\": 18.0\\n                                        },\\n                                        {\\n                                            \\\"name\\\": \\\"duration <= 1020.5\\\",\\n                                            \\\"pred\\\": \\\"24 of no, 15 of yes\\\",\\n                                            \\\"type\\\": \\\"numerical\\\",\\n                                            \\\"side\\\": \\\"left\\\",\\n                                            \\\"size\\\": 39.0\\n                                        }\\n                                    ],\\n                                    \\\"name\\\": \\\"day > 19.5\\\",\\n                                    \\\"side\\\": \\\"right\\\",\\n                                    \\\"type\\\": \\\"numerical\\\",\\n                                    \\\"size\\\": 57.0,\\n                                    \\\"pred\\\": \\\"27 of no, 30 of yes\\\"\\n                                },\\n                                {\\n                                    \\\"children\\\": [\\n                                        {\\n                                            \\\"name\\\": \\\"age > 55.5\\\",\\n                                            \\\"pred\\\": \\\"5 of no, 3 of yes\\\",\\n                                            \\\"type\\\": \\\"numerical\\\",\\n                                            \\\"side\\\": \\\"right\\\",\\n                                            \\\"size\\\": 8.0\\n                                        },\\n                                        {\\n                                            \\\"name\\\": \\\"age <= 55.5\\\",\\n                                            \\\"pred\\\": \\\"11 of no, 51 of yes\\\",\\n                                            \\\"type\\\": \\\"numerical\\\",\\n                                            \\\"side\\\": \\\"left\\\",\\n                                            \\\"size\\\": 62.0\\n                                        }\\n                                    ],\\n                                    \\\"name\\\": \\\"day <= 19.5\\\",\\n                                    \\\"side\\\": \\\"left\\\",\\n                                    \\\"type\\\": \\\"numerical\\\",\\n                                    \\\"size\\\": 70.0,\\n                                    \\\"pred\\\": \\\"16 of no, 54 of yes\\\"\\n                                }\\n                            ],\\n                            \\\"name\\\": \\\"day > 7.5\\\",\\n                            \\\"side\\\": \\\"right\\\",\\n                            \\\"type\\\": \\\"numerical\\\",\\n                            \\\"size\\\": 127.0,\\n                            \\\"pred\\\": \\\"43 of no, 84 of yes\\\"\\n                        },\\n                        {\\n                            \\\"children\\\": [\\n                                {\\n                                    \\\"name\\\": \\\"previous > 1.5\\\",\\n                                    \\\"pred\\\": \\\"0 of no, 3 of yes\\\",\\n                                    \\\"type\\\": \\\"numerical\\\",\\n                                    \\\"side\\\": \\\"right\\\",\\n                                    \\\"size\\\": 3.0\\n                                },\\n                                {\\n                                    \\\"children\\\": [\\n                                        {\\n                                            \\\"name\\\": \\\"duration > 678.5\\\",\\n                                            \\\"pred\\\": \\\"16 of no, 6 of yes\\\",\\n                                            \\\"type\\\": \\\"numerical\\\",\\n                                            \\\"side\\\": \\\"right\\\",\\n                                            \\\"size\\\": 22.0\\n                                        },\\n                                        {\\n                                            \\\"name\\\": \\\"duration <= 678.5\\\",\\n                                            \\\"pred\\\": \\\"0 of no, 2 of yes\\\",\\n                                            \\\"type\\\": \\\"numerical\\\",\\n                                            \\\"side\\\": \\\"left\\\",\\n                                            \\\"size\\\": 2.0\\n                                        }\\n                                    ],\\n                                    \\\"name\\\": \\\"previous <= 1.5\\\",\\n                                    \\\"side\\\": \\\"left\\\",\\n                                    \\\"type\\\": \\\"numerical\\\",\\n                                    \\\"size\\\": 24.0,\\n                                    \\\"pred\\\": \\\"16 of no, 8 of yes\\\"\\n                                }\\n                            ],\\n                            \\\"name\\\": \\\"day <= 7.5\\\",\\n                            \\\"side\\\": \\\"left\\\",\\n                            \\\"type\\\": \\\"numerical\\\",\\n                            \\\"size\\\": 27.0,\\n                            \\\"pred\\\": \\\"16 of no, 11 of yes\\\"\\n                        }\\n                    ],\\n                    \\\"name\\\": \\\"marital != married\\\",\\n                    \\\"side\\\": \\\"left\\\",\\n                    \\\"type\\\": \\\"categorical\\\",\\n                    \\\"size\\\": 154.0,\\n                    \\\"pred\\\": \\\"59 of no, 95 of yes\\\"\\n                }\\n            ],\\n            \\\"name\\\": \\\"duration > 645.5\\\",\\n            \\\"side\\\": \\\"right\\\",\\n            \\\"type\\\": \\\"numerical\\\",\\n            \\\"size\\\": 359.0,\\n            \\\"pred\\\": \\\"179 of no, 180 of yes\\\"\\n        },\\n        {\\n            \\\"children\\\": [\\n                {\\n                    \\\"children\\\": [\\n                        {\\n                            \\\"children\\\": [\\n                                {\\n                                    \\\"children\\\": [\\n                                        {\\n                                            \\\"name\\\": \\\"duration > 339.0\\\",\\n                                            \\\"pred\\\": \\\"1 of no, 4 of yes\\\",\\n                                            \\\"type\\\": \\\"numerical\\\",\\n                                            \\\"side\\\": \\\"right\\\",\\n                                            \\\"size\\\": 5.0\\n                                        },\\n                                        {\\n                                            \\\"name\\\": \\\"duration <= 339.0\\\",\\n                                            \\\"pred\\\": \\\"6 of no, 1 of yes\\\",\\n                                            \\\"type\\\": \\\"numerical\\\",\\n                                            \\\"side\\\": \\\"left\\\",\\n                                            \\\"size\\\": 7.0\\n                                        }\\n                                    ],\\n                                    \\\"name\\\": \\\"month = may\\\",\\n                                    \\\"side\\\": \\\"right\\\",\\n                                    \\\"type\\\": \\\"categorical\\\",\\n                                    \\\"size\\\": 12.0,\\n                                    \\\"pred\\\": \\\"7 of no, 5 of yes\\\"\\n                                },\\n                                {\\n                                    \\\"children\\\": [\\n                                        {\\n                                            \\\"name\\\": \\\"pdays > 35.5\\\",\\n                                            \\\"pred\\\": \\\"11 of no, 62 of yes\\\",\\n                                            \\\"type\\\": \\\"numerical\\\",\\n                                            \\\"side\\\": \\\"right\\\",\\n                                            \\\"size\\\": 73.0\\n                                        },\\n                                        {\\n                                            \\\"name\\\": \\\"pdays <= 35.5\\\",\\n                                            \\\"pred\\\": \\\"1 of no, 0 of yes\\\",\\n                                            \\\"type\\\": \\\"numerical\\\",\\n                                            \\\"side\\\": \\\"left\\\",\\n                                            \\\"size\\\": 1.0\\n                                        }\\n                                    ],\\n                                    \\\"name\\\": \\\"month != may\\\",\\n                                    \\\"side\\\": \\\"left\\\",\\n                                    \\\"type\\\": \\\"categorical\\\",\\n                                    \\\"size\\\": 74.0,\\n                                    \\\"pred\\\": \\\"12 of no, 62 of yes\\\"\\n                                }\\n                            ],\\n                            \\\"name\\\": \\\"duration > 180.5\\\",\\n                            \\\"side\\\": \\\"right\\\",\\n                            \\\"type\\\": \\\"numerical\\\",\\n                            \\\"size\\\": 86.0,\\n                            \\\"pred\\\": \\\"19 of no, 67 of yes\\\"\\n                        },\\n                        {\\n                            \\\"children\\\": [\\n                                {\\n                                    \\\"children\\\": [\\n                                        {\\n                                            \\\"name\\\": \\\"job = technician\\\",\\n                                            \\\"pred\\\": \\\"2 of no, 1 of yes\\\",\\n                                            \\\"type\\\": \\\"categorical\\\",\\n                                            \\\"side\\\": \\\"right\\\",\\n                                            \\\"size\\\": 3.0\\n                                        },\\n                                        {\\n                                            \\\"name\\\": \\\"job != technician\\\",\\n                                            \\\"pred\\\": \\\"0 of no, 6 of yes\\\",\\n                                            \\\"type\\\": \\\"categorical\\\",\\n                                            \\\"side\\\": \\\"left\\\",\\n                                            \\\"size\\\": 6.0\\n                                        }\\n                                    ],\\n                                    \\\"name\\\": \\\"education = tertiary\\\",\\n                                    \\\"side\\\": \\\"right\\\",\\n                                    \\\"type\\\": \\\"categorical\\\",\\n                                    \\\"size\\\": 9.0,\\n                                    \\\"pred\\\": \\\"2 of no, 7 of yes\\\"\\n                                },\\n                                {\\n                                    \\\"children\\\": [\\n                                        {\\n                                            \\\"name\\\": \\\"marital = divorced\\\",\\n                                            \\\"pred\\\": \\\"0 of no, 1 of yes\\\",\\n                                            \\\"type\\\": \\\"categorical\\\",\\n                                            \\\"side\\\": \\\"right\\\",\\n                                            \\\"size\\\": 1.0\\n                                        },\\n                                        {\\n                                            \\\"name\\\": \\\"marital != divorced\\\",\\n                                            \\\"pred\\\": \\\"18 of no, 1 of yes\\\",\\n                                            \\\"type\\\": \\\"categorical\\\",\\n                                            \\\"side\\\": \\\"left\\\",\\n                                            \\\"size\\\": 19.0\\n                                        }\\n                                    ],\\n                                    \\\"name\\\": \\\"education != tertiary\\\",\\n                                    \\\"side\\\": \\\"left\\\",\\n                                    \\\"type\\\": \\\"categorical\\\",\\n                                    \\\"size\\\": 20.0,\\n                                    \\\"pred\\\": \\\"18 of no, 2 of yes\\\"\\n                                }\\n                            ],\\n                            \\\"name\\\": \\\"duration <= 180.5\\\",\\n                            \\\"side\\\": \\\"left\\\",\\n                            \\\"type\\\": \\\"numerical\\\",\\n                            \\\"size\\\": 29.0,\\n                            \\\"pred\\\": \\\"20 of no, 9 of yes\\\"\\n                        }\\n                    ],\\n                    \\\"name\\\": \\\"poutcome = success\\\",\\n                    \\\"side\\\": \\\"right\\\",\\n                    \\\"type\\\": \\\"categorical\\\",\\n                    \\\"size\\\": 115.0,\\n                    \\\"pred\\\": \\\"39 of no, 76 of yes\\\"\\n                },\\n                {\\n                    \\\"children\\\": [\\n                        {\\n                            \\\"children\\\": [\\n                                {\\n                                    \\\"children\\\": [\\n                                        {\\n                                            \\\"name\\\": \\\"balance > 5477.5\\\",\\n                                            \\\"pred\\\": \\\"1 of no, 0 of yes\\\",\\n                                            \\\"type\\\": \\\"numerical\\\",\\n                                            \\\"side\\\": \\\"right\\\",\\n                                            \\\"size\\\": 1.0\\n                                        },\\n                                        {\\n                                            \\\"name\\\": \\\"balance <= 5477.5\\\",\\n                                            \\\"pred\\\": \\\"0 of no, 11 of yes\\\",\\n                                            \\\"type\\\": \\\"numerical\\\",\\n                                            \\\"side\\\": \\\"left\\\",\\n                                            \\\"size\\\": 11.0\\n                                        }\\n                                    ],\\n                                    \\\"name\\\": \\\"pdays > 373.0\\\",\\n                                    \\\"side\\\": \\\"right\\\",\\n                                    \\\"type\\\": \\\"numerical\\\",\\n                                    \\\"size\\\": 12.0,\\n                                    \\\"pred\\\": \\\"1 of no, 11 of yes\\\"\\n                                },\\n                                {\\n                                    \\\"children\\\": [\\n                                        {\\n                                            \\\"name\\\": \\\"month = oct\\\",\\n                                            \\\"pred\\\": \\\"11 of no, 16 of yes\\\",\\n                                            \\\"type\\\": \\\"categorical\\\",\\n                                            \\\"side\\\": \\\"right\\\",\\n                                            \\\"size\\\": 27.0\\n                                        },\\n                                        {\\n                                            \\\"name\\\": \\\"month != oct\\\",\\n                                            \\\"pred\\\": \\\"1207 of no, 173 of yes\\\",\\n                                            \\\"type\\\": \\\"categorical\\\",\\n                                            \\\"side\\\": \\\"left\\\",\\n                                            \\\"size\\\": 1380.0\\n                                        }\\n                                    ],\\n                                    \\\"name\\\": \\\"pdays <= 373.0\\\",\\n                                    \\\"side\\\": \\\"left\\\",\\n                                    \\\"type\\\": \\\"numerical\\\",\\n                                    \\\"size\\\": 1407.0,\\n                                    \\\"pred\\\": \\\"1218 of no, 189 of yes\\\"\\n                                }\\n                            ],\\n                            \\\"name\\\": \\\"duration > 222.5\\\",\\n                            \\\"side\\\": \\\"right\\\",\\n                            \\\"type\\\": \\\"numerical\\\",\\n                            \\\"size\\\": 1419.0,\\n                            \\\"pred\\\": \\\"1219 of no, 200 of yes\\\"\\n                        },\\n                        {\\n                            \\\"children\\\": [\\n                                {\\n                                    \\\"children\\\": [\\n                                        {\\n                                            \\\"name\\\": \\\"day > 19.5\\\",\\n                                            \\\"pred\\\": \\\"6 of no, 9 of yes\\\",\\n                                            \\\"type\\\": \\\"numerical\\\",\\n                                            \\\"side\\\": \\\"right\\\",\\n                                            \\\"size\\\": 15.0\\n                                        },\\n                                        {\\n                                            \\\"name\\\": \\\"day <= 19.5\\\",\\n                                            \\\"pred\\\": \\\"20 of no, 1 of yes\\\",\\n                                            \\\"type\\\": \\\"numerical\\\",\\n                                            \\\"side\\\": \\\"left\\\",\\n                                            \\\"size\\\": 21.0\\n                                        }\\n                                    ],\\n                                    \\\"name\\\": \\\"month = oct\\\",\\n                                    \\\"side\\\": \\\"right\\\",\\n                                    \\\"type\\\": \\\"categorical\\\",\\n                                    \\\"size\\\": 36.0,\\n                                    \\\"pred\\\": \\\"26 of no, 10 of yes\\\"\\n                                },\\n                                {\\n                                    \\\"children\\\": [\\n                                        {\\n                                            \\\"name\\\": \\\"month = mar\\\",\\n                                            \\\"pred\\\": \\\"21 of no, 9 of yes\\\",\\n                                            \\\"type\\\": \\\"categorical\\\",\\n                                            \\\"side\\\": \\\"right\\\",\\n                                            \\\"size\\\": 30.0\\n                                        },\\n                                        {\\n                                            \\\"name\\\": \\\"month != mar\\\",\\n                                            \\\"pred\\\": \\\"2516 of no, 46 of yes\\\",\\n                                            \\\"type\\\": \\\"categorical\\\",\\n                                            \\\"side\\\": \\\"left\\\",\\n                                            \\\"size\\\": 2562.0\\n                                        }\\n                                    ],\\n                                    \\\"name\\\": \\\"month != oct\\\",\\n                                    \\\"side\\\": \\\"left\\\",\\n                                    \\\"type\\\": \\\"categorical\\\",\\n                                    \\\"size\\\": 2592.0,\\n                                    \\\"pred\\\": \\\"2537 of no, 55 of yes\\\"\\n                                }\\n                            ],\\n                            \\\"name\\\": \\\"duration <= 222.5\\\",\\n                            \\\"side\\\": \\\"left\\\",\\n                            \\\"type\\\": \\\"numerical\\\",\\n                            \\\"size\\\": 2628.0,\\n                            \\\"pred\\\": \\\"2563 of no, 65 of yes\\\"\\n                        }\\n                    ],\\n                    \\\"name\\\": \\\"poutcome != success\\\",\\n                    \\\"side\\\": \\\"left\\\",\\n                    \\\"type\\\": \\\"categorical\\\",\\n                    \\\"size\\\": 4047.0,\\n                    \\\"pred\\\": \\\"3782 of no, 265 of yes\\\"\\n                }\\n            ],\\n            \\\"name\\\": \\\"duration <= 645.5\\\",\\n            \\\"side\\\": \\\"left\\\",\\n            \\\"type\\\": \\\"numerical\\\",\\n            \\\"size\\\": 4162.0,\\n            \\\"pred\\\": \\\"3821 of no, 341 of yes\\\"\\n        }\\n    ],\\n    \\\"side\\\": \\\"right\\\",\\n    \\\"size\\\": 4521.0\\n}`;\\n                 var version2 = true // if true json from generator_2 will be used\\n\\n\\n                 var tree_branch = false // if the thickness of the branches depend on the value of targt + color * /\\n                 var tree_branch_parent = true //  true: thickness from the root if not the direct parent\\n                 var tree_branch_color = \\\"black\\\"\\n                 var strokeness = 120 //  the degree of separation between the nodes \\n                 var default_strokeness = 50\\n                 var hover_percent_parent = false // if the display percentage depends on the direct parent or the root\\n                 var square = false\\n                 var rect_percent = true //display the percentage or the value in the small rectangles of the labels \\n                 var value_percent_top = true /// if we display the value and the percentage above the rectangle /\\n\\n                 var dict_leaf_y = {\\n                     1: 0,\\n                     2: -17.5,\\n                     3: -35,\\n                     4: -52.5,\\n                     5: -70,\\n                     6: -87.5,\\n                     6: -105,\\n                     7: -122.5,\\n                     8: -140,\\n                     9: -157.5,\\n                     10: -175\\n                 }\\n\\n\\n                 /****************************************************************************************************** */\\n\\n\\n\\n\\n                 function getDepth(obj) {\\n                     var depth = 0;\\n                     if (obj.children) {\\n                         obj.children.forEach(function(d) {\\n                             var tmpDepth = getDepth(d)\\n                             if (tmpDepth > depth) {\\n                                 depth = tmpDepth\\n                             }\\n                         })\\n                     }\\n                     return 1 + depth\\n                 }\\n\\n\\n                 var margin = {\\n                         top: 20,\\n                         right: 120,\\n                         bottom: 20,\\n                         left: 180\\n                     },\\n                     width = 2000 + 960 - margin.right - margin.left,\\n                     height = 800 - margin.top - margin.bottom;\\n\\n                 var i = 0;\\n                 let duration = 550;\\n                 let root;\\n\\n                 var tree\\n                 var diagonal\\n                 var svg\\n\\n\\n                 const flare = JSON.parse(myData);\\n\\n                 tree = d3.layout.tree()\\n                     .separation(function(a, b) {\\n                         return ((a.parent == root) && (b.parent == root)) ? strokeness : strokeness;\\n                     })\\n                     .size([height, getDepth(flare) * width / 8]);\\n\\n                 diagonal = d3.svg.diagonal()\\n                     .projection(function(d) {\\n                         return [d.y, d.x];\\n                     });\\n\\n                $(decisionTree).empty();\\n                 svg = d3.select(decisionTree[0]).append(\\\"svg\\\")\\n                     .attr(\\\"width\\\", getDepth(flare) * width / 8 + margin.right + margin.left)\\n                     .attr(\\\"height\\\", height + margin.top + margin.bottom)\\n                     .append(\\\"g\\\")\\n                     .attr(\\\"transform\\\", \\\"translate(\\\" + margin.left + \\\",\\\" + margin.top + \\\")\\\");\\n\\n\\n                 const l = flare.pred.replace(/of/g, \\\"\\\").split(', ')\\n                 for (var j = 0; j < l.length; j++) {\\n                     l[j] = l[j].split(' ')[2]\\n                 }\\n                 label_names = l\\n\\n                 TOTAL_SIZE = flare.size\\n                 root = flare;\\n                 root.x0 = height / 2;\\n                 root.y0 = 0;\\n\\n                 function collapse(d) {\\n                     if (d.children) {\\n                         d._children = d.children;\\n                         d._children.forEach(collapse);\\n                         d.children = null;\\n                     }\\n                 }\\n\\n                 root.children.forEach(collapse);\\n                 update(root, l.length);\\n                 createLabels(l);\\n\\n\\n                 d3.select(self.frameElement).style(\\\"height\\\", \\\"480px\\\");\\n\\n                 function update(source, n_labels) {\\n\\n\\n                     // Compute the new tree layout.\\n                     var nodes = tree.nodes(root).reverse();\\n                     const links = tree.links(nodes);\\n                     const tpaths = tree.links(nodes);\\n\\n                     // Normalize for fixed-depth.\\n                     nodes.forEach(function(d) {\\n                         d.y = d.depth * 180;\\n                     });\\n\\n                     // Update the nodes…\\n                     var node = svg.selectAll(\\\"g.node\\\")\\n                         .data(nodes, function(d) {\\n                             return d.id || (d.id = ++i);\\n                         });\\n\\n                     // Enter any new nodes at the parent's previous position.\\n                     var nodeEnter = node.enter().append(\\\"g\\\")\\n                         .attr(\\\"class\\\", \\\"node\\\")\\n                         .attr(\\\"transform\\\", function(d) {\\n                             return \\\"translate(\\\" + source.y0 + \\\",\\\" + source.x0 + \\\")\\\";\\n                         })\\n                         .on(\\\"click\\\", click);\\n\\n                     nodeEnter.append(\\\"circle\\\")\\n                         .attr(\\\"r\\\", 1e-6)\\n                         .style(\\\"fill\\\", function(d) {\\n\\n                             return d._children ? \\\"lightsteelblue\\\" : \\\"#fff\\\";\\n                         });\\n\\n                     //   nodeEnter.append(\\\"text\\\")\\n                     //       .attr(\\\"x\\\", function(d) { return (d.children || d._children) || version2 ? -10 : 10; })\\n                     //       .attr(\\\"dy\\\", \\\".35em\\\")\\n                     //       .attr(\\\"text-anchor\\\", function(d) { return (d.children || d._children) || version2 ? \\\"end\\\" : \\\"start\\\"; })\\n                     //       .text(function(d) { return d.pred ? d.name+' '+d.pred : d.name; })\\n                     //       .style(\\\"fill-opacity\\\", 1e-6);\\n\\n                     function getTextWidth(text, fontSize, fontFace) {\\n                         var a = document.createElement('canvas');\\n                         var b = a.getContext('2d');\\n                         b.font = fontSize + 'px ' + fontFace;\\n                         return b.measureText(text).width;\\n                     }\\n\\n\\n\\n                     var rect = nodeEnter.append(\\\"rect\\\")\\n                         .attr(\\\"width\\\", 133 + 8)\\n                         .attr(\\\"height\\\", 70)\\n                         .attr(\\\"x\\\", -80)\\n                         .attr(\\\"y\\\", -80)\\n                         .attr(\\\"rx\\\", 6)\\n                         .attr(\\\"ry\\\", 6)\\n                         .style(\\\"fill\\\", function(d) {\\n                             return (d.children || d._children) || version2 ? \\\"#f0f0f0\\\" : \\\"#ffffff\\\"\\n                         })\\n                         .style(\\\"stroke\\\", function(d) {\\n                             return (d.children || d._children) || version2 ? \\\"rgb(155, 155, 155)\\\" : \\\"#ffffff\\\"\\n                         })\\n                         .style(\\\"visibility\\\", function(d) {\\n                             return (d.children || d._children) || version2 ? \\\"visible\\\" : \\\"hidden\\\"\\n                         })\\n\\n                     nodeEnter.append(\\\"svg:image\\\")\\n                         .attr(\\\"xlink:href\\\", function(d) {\\n                             return ((d.children || d._children) || version2) && d.type == 'categorical' ? 'http://fractalytics.io/wp-content/uploads/2019/05/cat.png' : 'http://fractalytics.io/wp-content/uploads/2019/05/num.png'\\n                         })\\n                         .attr(\\\"x\\\", \\\"-76\\\")\\n                         .attr(\\\"y\\\", \\\"-74\\\")\\n                         .attr(\\\"width\\\", \\\"20\\\")\\n                         .attr(\\\"height\\\", \\\"20\\\")\\n                         .style(\\\"visibility\\\", function(d) {\\n                             if (d.name.match(/(.*?)(<|>|=|!=|<=|>=|=<|=>)/i)) {\\n                                 return d.name.match(/(.*?)(<|>|=|!=|<=|>=|=<|=>)/i)[1] == 'Root ' ? 'hidden' : 'visible'\\n                             } else return (d.children || d._children) || version2 ? \\\"visible\\\" : \\\"hidden\\\"\\n                         });\\n\\n                     let ttr;\\n                     nodeEnter.append(\\\"text\\\")\\n                         .attr(\\\"x\\\", function(d) {\\n                             ttr = 13\\n                             if (default_colors.length > 5) {\\n                                 ttr = (40 * default_colors.length) / 2\\n                             }\\n                             return (d.children || d._children) || version2 ? -75 - ((getTextWidth(d.size + \\\" / \\\" + (d.size * 100 / TOTAL_SIZE).toFixed(0) + \\\"%\\\", 10, 'Verdana') + 5.7) - (133 + 8)) / 2 : ttr\\n                         })\\n                         .attr(\\\"y\\\", function(d) {\\n                             ttr = dict_leaf_y[label_names.length] - 15\\n                             if (default_colors.length > 5) {\\n                                 ttr = -20\\n                             }\\n                             return (d.children || d._children) || version2 ? -87 : ttr;\\n\\n                         })\\n                         .attr(\\\"dy\\\", \\\".35em\\\")\\n                         .attr(\\\"text-anchor\\\", \\\"start\\\")\\n                         .style(\\\"font-size\\\", \\\"10px\\\")\\n                         .style(\\\"font-family\\\", \\\"Verdana\\\")\\n                         .style(\\\"stroke\\\", \\\"#c2c2c2\\\")\\n                         .style(\\\"stroke-width\\\", \\\"0.05em\\\")\\n                         .text(function(d) {\\n                             return true ? d.size + \\\" / \\\" + (d.size * 100 / TOTAL_SIZE).toFixed(0) + \\\"%\\\" : \\\"\\\";\\n                         })\\n                         .attr('visibility', function() {\\n                             return value_percent_top ? 'visible' : 'hidden'\\n                         })\\n\\n\\n\\n\\n                     nodeEnter.append(\\\"text\\\")\\n                         .attr(\\\"x\\\", function(d) {\\n                             if (((d.children || d._children) || version2) && d.name.match(/(.*?)(<|>|=|!=|<=|>=|=<|=>)/i)[1].length <= 11) {\\n                                 return (d.children || d._children) || version2 ? -75 - ((getTextWidth(d.name.match(/(.*?)(<|>|=|!=|<=|>=|=<|=>)/i)[1], 14, 'Verdana') + 5.7) - (133 + 8)) / 2 : 0\\n                             } else return (d.children || d._children) || version2 ? -75 - ((getTextWidth(d.name.match(/(.*?)(<|>|=|!=|<=|>=|=<|=>)/i)[1].substring(0, 11), 14, 'Verdana') + 5.7) - (133 + 8)) / 2 : 0\\n                         })\\n                         .attr(\\\"y\\\", function(d) {\\n                             if (!d.name.match(/(.*?)(<|>|=|!=|<=|>=|=<|=>)/i)) return -65\\n                             else return d.name.match(/(.*?)(<|>|=|!=|<=|>=|=<|=>)/i)[1] == 'Root ' ? -55 : -65\\n                         })\\n                         .attr(\\\"dy\\\", \\\".35em\\\")\\n                         .attr(\\\"text-anchor\\\", \\\"start\\\")\\n                         .style(\\\"font-size\\\", \\\"14px\\\")\\n                         .style(\\\"font-family\\\", \\\"Verdana\\\")\\n                         .style(\\\"stroke\\\", \\\"black\\\")\\n                         .style(\\\"stroke-width\\\", \\\"0.05em\\\")\\n\\n                         .text(function(d) {\\n                             if ((d.children || d._children) || version2) {\\n                                 return d.name.match(/(.*?)(<|>|=|!=|<=|>=|=<|=>)/i)[1].length <= 15 ? d.name.match(/(.*?)(<|>|=|!=|<=|>=|=<|=>)/i)[1] : (d.name.match(/(.*?)(<|>|=|!=|<=|>=|=<|=>)/i)[1]).substring(0, 13) + '..'\\n\\n                             } else return \\\"\\\";\\n                         })\\n                         .append('svg:title')\\n                         .text(function(d) {\\n                             return (d.children || d._children) || version2 ? d.name.match(/(.*?)(<|>|=|!=|<=|>=|=<|=>)/i)[1] : \\\"\\\"\\n                         })\\n\\n\\n\\n\\n                     nodeEnter.append(\\\"text\\\")\\n                         .attr(\\\"x\\\", function(d) {\\n                             return (d.children || d._children) || version2 ? -75 - ((getTextWidth(d.name.replace(d.name.match(/(.*?)(<|>|=|!=|<=|>=|=<|=>)/i)[1], '').replace('=', ''), 14, 'Verdana') + 5.7) - (133 + 8)) / 2 : 0\\n                         })\\n                         .attr(\\\"y\\\", -45)\\n                         .attr(\\\"dy\\\", \\\".35em\\\")\\n                         .attr(\\\"text-anchor\\\", \\\"start\\\")\\n                         .style(\\\"font-size\\\", \\\"12px\\\")\\n                         .style(\\\"font-family\\\", \\\"Verdana\\\")\\n                         .style(\\\"stroke\\\", \\\"black\\\")\\n                         .style(\\\"stroke-width\\\", \\\"0.04em\\\")\\n                         .text(function(d) {\\n\\n                             var toreturn = (d.children || d._children) || version2 ? d.name.replace(d.name.match(/(.*?)(<|>|=|!=|<=|>=|=<|=>)/i)[1], '').replace('!=', 'not').replace(/=|\\\\!=/g, '').replace('<', '<=') : \\\"\\\";\\n                             if (!d.name.match(/(.*?)(<|>|=|!=|<=|>=|=<|=>)/i)) return toreturn\\n                             return d.name.match(/(.*?)(<|>|=|!=|<=|>=|=<|=>)/i)[1] == 'Root ' ? '' : toreturn\\n                         })\\n\\n\\n                     var labels_w = 133 / n_labels\\n                     for (var j = 0; j < n_labels; j++) {\\n                         var curr = j\\n\\n\\n                         let v;\\n                         nodeEnter.append(\\\"rect\\\")\\n                             .attr(\\\"width\\\", function(d) {\\n                                 if (d.pred) {\\n                                     //console.log(parseInt(d.pred.split(\\\",\\\")[curr].match(/\\\\d+/)[0]),' *133/',d.size)\\n                                     v = parseInt(d.pred.split(\\\",\\\")[curr].match(/\\\\d+/)[0]) * 133 / d.size;\\n                                 } else if (!d.children) {\\n                                     v = 40\\n                                 }\\n\\n                                 if (square) return (d.children || d._children) || version2 ? 133 / label_names.length - 4 : 40\\n                                 else return (d.children || d._children) || version2 ? v : 40\\n                             })\\n                             .attr(\\\"height\\\", 20)\\n                             .attr('rx', function(d) {\\n                                 return square ? 0 : 4\\n                             })\\n                             .attr('ry', function(d) {\\n                                 return square ? 0 : 4\\n                             })\\n                             .attr(\\\"x\\\", function(d) {\\n\\n                                 var v;\\n                                 var ttl = 0\\n                                 if (curr > 0) {\\n\\n                                     for (var l = 0; l <= curr - 1; l++) {\\n                                         if (d.pred) {\\n                                             v = parseInt(d.pred.split(\\\",\\\")[l].match(/\\\\d+/)[0]);\\n                                         } else if (!d.children) v = parseInt(d.name.split(\\\",\\\")[l].match(/\\\\d+/)[0]);\\n                                         ttl = ttl + v * 133 / d.size\\n                                     }\\n\\n                                 } else {\\n                                     ttl = 0\\n                                 }\\n\\n                                 ttr = 13\\n                                 if (default_colors.length > 5) {\\n                                     ttr = 10 + j * 45\\n                                 }\\n\\n\\n                                 if (square) return (d.children || d._children) || version2 ? -76 + j * (133 / label_names.length) : ttr\\n                                 else return (d.children || d._children) || version2 ? -76 + ttl : ttr\\n                             })\\n                             .attr(\\\"y\\\", (function(d) {\\n                                 //console.log(default_colors.length)\\n                                 if (default_colors.length > 5) {\\n                                     return (d.children || d._children) || version2 ? -34 : -10\\n                                 } else return (d.children || d._children) || version2 ? -34 : dict_leaf_y[label_names.length] - 4 + 20 * j + j * 4;\\n                             }))\\n                             .style(\\\"fill\\\", function(d) {\\n                                 if (default_colors.length == 0) {\\n                                     return default_colors[j]\\n                                 } else {\\n                                     return default_colors[j]\\n                                 }\\n\\n                             })\\n                             .attr('visibility', function(d) {\\n\\n                                 if (d.pred) {\\n                                     v = parseInt(d.pred.split(\\\",\\\")[curr].match(/\\\\d+/)[0]);\\n                                 } else if (!d.children) v = parseInt(d.name.split(\\\",\\\")[curr].match(/\\\\d+/)[0]);\\n                                 v = v * 133 / d.size\\n                                 return v != 0 || !d.children ? \\\"visible\\\" : \\\"hidden\\\"\\n                             })\\n                             .attr('opacity', function(d) {\\n                                 var val\\n                                 if (d.pred) {\\n                                     // console.log(d.pred.split(\\\",\\\")[curr].match(/\\\\d+/)[0])\\n                                     val = (parseInt(d.pred.split(\\\",\\\")[curr].match(/\\\\d+/)[0]) * 100 / d.size).toFixed(0)\\n                                 } else if (!d.children) val = (parseInt(d.name.split(\\\",\\\")[curr].match(/\\\\d+/)[0]) * 100 / d.size).toFixed(0)\\n                                 return (d.children || d._children) || version2 ? 1 : val / 100 + 0.3\\n\\n                             })\\n                             .append(\\\"svg:title\\\")\\n                             .text(function(d) {\\n                                 if (d.pred) {\\n                                     // console.log(d.pred.split(\\\",\\\")[curr].match(/\\\\d+/)[0])\\n                                     return !rect_percent ? d.pred.split(\\\",\\\")[curr].match(/\\\\d+/)[0] : (parseInt(d.pred.split(\\\",\\\")[curr].match(/\\\\d+/)[0]) * 100 / d.size).toFixed(0) + \\\"%\\\"\\n                                 } else if (!d.children) return !rect_percent ? d.name.split(\\\",\\\")[curr].match(/\\\\d+/)[0] : (parseInt(d.name.split(\\\",\\\")[curr].match(/\\\\d+/)[0]) * 100 / d.size).toFixed(0) + \\\"%\\\"\\n\\n                             })\\n\\n\\n\\n\\n                         var subg = nodeEnter.append(\\\"g\\\")\\n                             .attr(\\\"width\\\", labels_w)\\n                             .attr(\\\"height\\\", 20)\\n                             .attr(\\\"x\\\", function(d) {\\n                                 var v;\\n                                 var ttl = 0\\n                                 if (curr > 0) {\\n\\n                                     for (var l = 0; l <= curr - 1; l++) {\\n                                         if (d.pred) {\\n                                             v = parseInt(d.pred.split(\\\",\\\")[l].match(/\\\\d+/)[0]);\\n                                         } else if (!d.children) v = parseInt(d.name.split(\\\",\\\")[l].match(/\\\\d+/)[0]);\\n                                         ttl = ttl + v * 133 / d.size\\n                                     }\\n\\n                                 } else {\\n                                     ttl = 0\\n                                 }\\n\\n                                 return -80 + ttl\\n\\n                             })\\n                             .attr(\\\"y\\\", -30)\\n\\n\\n                         subg.append(\\\"text\\\")\\n                             .text(function(d) {\\n                                 if (d.pred) {\\n                                     // console.log(d.pred.split(\\\",\\\")[curr].match(/\\\\d+/)[0])\\n                                     return !rect_percent ? d.pred.split(\\\",\\\")[curr].match(/\\\\d+/)[0] : (parseInt(d.pred.split(\\\",\\\")[curr].match(/\\\\d+/)[0]) * 100 / d.size).toFixed(0) + \\\"%\\\"\\n                                 } else if (!d.children) return !rect_percent ? d.name.split(\\\",\\\")[curr].match(/\\\\d+/)[0] : (parseInt(d.name.split(\\\",\\\")[curr].match(/\\\\d+/)[0]) * 100 / d.size).toFixed(0) + \\\"%\\\"\\n\\n                             })\\n                             .attr(\\\"x\\\", (function(d) {\\n\\n                                 var v;\\n                                 var ttl = 0\\n                                 if (curr > 0) {\\n\\n                                     for (var l = 0; l <= curr - 1; l++) {\\n                                         if (d.pred) {\\n                                             v = parseInt(d.pred.split(\\\",\\\")[l].match(/\\\\d+/)[0]);\\n                                         } else if (!d.children) v = parseInt(d.name.split(\\\",\\\")[l].match(/\\\\d+/)[0]);\\n                                         ttl = ttl + v * 133 / d.size\\n                                     }\\n\\n                                 } else {\\n                                     ttl = 0\\n                                 }\\n\\n                                 ttr = 18\\n                                 if (default_colors.length > 5) {\\n                                     ttr = 14 + j * 45\\n                                 }\\n\\n                                 if (square) return (d.children || d._children) || version2 ? -71 + j * (133 / label_names.length) : ttr\\n                                 else return (d.children || d._children) || version2 ? -71 + ttl : ttr\\n                             }))\\n                             .attr(\\\"y\\\", (function(d) {\\n                                 ttr = dict_leaf_y[label_names.length] + 10 + 20 * j + j * 4\\n                                 if (default_colors.length > 5) {\\n                                     ttr = 5\\n                                 }\\n\\n                                 return (d.children || d._children) || version2 ? -19 : ttr;\\n\\n                             }))\\n                             .style(\\\"fill\\\", \\\"white\\\")\\n                             .style(\\\"font-size\\\", \\\"12px\\\")\\n                             .attr('visibility', function(d) {\\n                                 if (d.pred && !square) {\\n                                     // console.log(d.pred.split(\\\",\\\")[curr].match(/\\\\d+/)[0])\\n                                     return (parseInt(d.pred.split(\\\",\\\")[curr].match(/\\\\d+/)[0]) * 100 / d.size).toFixed(0) > 20 ? \\\"vivible\\\" : \\\"hidden\\\"\\n                                 }\\n                             })\\n                             .append(\\\"svg:title\\\")\\n                             .text(function(d) {\\n                                 if (d.pred) {\\n                                     // console.log(d.pred.split(\\\",\\\")[curr].match(/\\\\d+/)[0])\\n                                     return !rect_percent ? d.pred.split(\\\",\\\")[curr].match(/\\\\d+/)[0] : (parseInt(d.pred.split(\\\",\\\")[curr].match(/\\\\d+/)[0]) * 100 / d.size).toFixed(0) + \\\"%\\\"\\n                                 } else if (!d.children) return !rect_percent ? d.name.split(\\\",\\\")[curr].match(/\\\\d+/)[0] : (parseInt(d.name.split(\\\",\\\")[curr].match(/\\\\d+/)[0]) * 100 / d.size).toFixed(0) + \\\"%\\\"\\n\\n                             })\\n\\n                         subg.append('text')\\n                             .text(function(d) {\\n                                 if (d.pred) {\\n                                     return ''\\n                                 } else if (!d.children) {\\n                                     return label_names[curr]\\n                                 }\\n                             })\\n                             .attr(\\\"x\\\", (function(d) {\\n                                 ttr = 60\\n                                 if (default_colors.length > 5) {\\n                                     ttr = 18 + j * 45\\n                                 }\\n                                 return (d.children || d._children) || version2 ? -66 + j * labels_w : ttr\\n                             }))\\n                             .attr(\\\"y\\\", (function(d) {\\n                                 ttr = dict_leaf_y[label_names.length] + 10 + 20 * j + j * 4\\n                                 if (default_colors.length > 5) {\\n                                     ttr = 25\\n                                 }\\n                                 return (d.children || d._children) || version2 ? -15 : ttr;\\n                             }))\\n                             .style(\\\"font-size\\\", \\\"14px\\\")\\n                             .style(\\\"fill\\\", \\\"rgb(78, 74, 74)\\\")\\n                             .attr('transform', function(d) {\\n\\n                                 return default_colors.length <= 5 ? '' : 'translate(' + (-30 + j * 20) + ',' + (10 + j * (-37)) + ') rotate(55 50 50)'\\n                             })\\n\\n\\n\\n                     }\\n\\n\\n\\n                     //   nodeEnter.append(\\\"text\\\")\\n                     //   .attr(\\\"x\\\", function(d) { return (d.children || d._children) || version2 ? -10 : 10; })\\n                     //   .attr(\\\"dy\\\", \\\".35em\\\")\\n                     //   .attr(\\\"text-anchor\\\", function(d) { return (d.children || d._children) || version2 ? \\\"end\\\" : \\\"start\\\"; })\\n                     //   .text(function(d) { return d.pred ? d.pred : ''; })\\n                     //   .style(\\\"fill-opacity\\\", 1e-6)\\n\\n\\n\\n                     // Transition nodes to their new position.\\n                     var nodeUpdate = node.transition()\\n                         .duration(duration)\\n                         .attr(\\\"transform\\\", function(d) {\\n                             return \\\"translate(\\\" + d.y + \\\",\\\" + d.x + \\\")\\\";\\n                         });\\n\\n                     nodeUpdate.select(\\\"circle\\\")\\n                         .attr(\\\"r\\\", 10)\\n                         .style(\\\"fill\\\", function(d) {\\n                             return d._children ? \\\"lightsteelblue\\\" : \\\"#fff\\\";\\n                         });\\n\\n                     nodeUpdate.select(\\\"text\\\")\\n                         .style(\\\"fill-opacity\\\", 1);\\n\\n                     // Transition exiting nodes to the parent's new position.\\n                     var nodeExit = node.exit().transition()\\n                         .duration(duration)\\n                         .attr(\\\"transform\\\", function(d) {\\n                             return \\\"translate(\\\" + source.y + \\\",\\\" + source.x + \\\")\\\";\\n                         })\\n                         .remove();\\n\\n                     nodeExit.select(\\\"circle\\\")\\n                         .attr(\\\"r\\\", 1e-6);\\n\\n                     nodeExit.select(\\\"text\\\")\\n                         .style(\\\"fill-opacity\\\", 1e-6);\\n\\n                     // Update the links…\\n                     var link = svg.selectAll(\\\"path.link\\\")\\n                         .data(links, function(d) {\\n                             return d.target.id;\\n                         });\\n\\n\\n                     if (tree_branch) var link_stoke_scale = d3.scale.linear().domain([0, 100]).range([1.5, default_strokeness]);\\n                     else var link_stoke_scale = d3.scale.linear().domain([0, 100]).range([1.5, 8]);\\n\\n                     var color = d3.scale.linear()\\n                         .domain([0, 50, 100])\\n                         .range([\\\"rgb(2, 255, 219)\\\", \\\"blue\\\"]);\\n\\n\\n                     // Enter any new links at the parent's previous position.\\n                     link.enter().insert(\\\"path\\\", \\\"g\\\")\\n                         .attr(\\\"class\\\", \\\"link\\\")\\n                         .attr(\\\"id\\\", function(d) {\\n                             return d.target.id;\\n                         })\\n                         .attr(\\\"d\\\", function(d) {\\n                             var o = {\\n                                 x: source.x0,\\n                                 y: source.y0\\n                             };\\n                             return diagonal({\\n                                 source: o,\\n                                 target: o\\n                             });\\n                         })\\n                         .style(\\\"stroke-width\\\", function(d) {\\n\\n                             if (!d.target) {\\n                                 return link_stoke_scale(50)\\n                             } else {\\n                                 if (tree_branch) {\\n                                     //   console.log(d.target.size,'*100/',TOTAL_SIZE,link_stoke_scale(d.target.size*100/TOTAL_SIZE),tree_branch_parent)\\n                                     //   console.log(d.target.size,'*100/',d.source.size,link_stoke_scale(d.target.size*100/d.source.size),tree_branch_parent)\\n\\n                                     return tree_branch_parent ? link_stoke_scale(d.target.size * 100 / TOTAL_SIZE) : link_stoke_scale(d.target.size * 100 / d.source.size)\\n                                 } else {\\n\\n                                     return link_stoke_scale(50)\\n                                 }\\n                             }\\n                         })\\n                         .style(\\\"stroke\\\", function(d) {\\n\\n                             if (!d.target) {\\n                                 return \\\"#fff\\\"\\n                             } else return tree_branch_color;\\n                         })\\n                         .append(\\\"svg:title\\\")\\n                         .text(function(d, i) {\\n                             if (hover_percent_parent) {\\n                                 var val = ((d.target.size / TOTAL_SIZE) * 100).toFixed(2);\\n                             } else {\\n                                 var val = ((d.target.size / d.source.size) * 100).toFixed(2);\\n                             }\\n\\n                             return val + \\\"%\\\"\\n                         })\\n\\n                     var tlink = svg.selectAll(\\\"text.tlink\\\")\\n                         .data(tpaths, function(d) {\\n                             return d.target.id;\\n                         });\\n\\n                     tlink.enter().insert(\\\"text\\\", \\\"g\\\")\\n                         .attr(\\\"class\\\", \\\"tlink\\\")\\n                         .attr(\\\"dy\\\", function(d) {\\n                             return d.target.side == \\\"left\\\" ? -10 : 15;\\n                         })\\n                         .append('textPath')\\n                         .attr(\\\"xlink:href\\\", function(d) {\\n                             return '#' + d.target.id;\\n                         }) //place the ID of the path here\\n                         .style(\\\"text-anchor\\\", \\\"middle\\\") //place the text halfway on the arc\\n                         .attr(\\\"startOffset\\\", \\\"45%\\\")\\n                         .text(function(d) {\\n                             return d.target.side == \\\"left\\\" ? \\\"No\\\" : \\\"Yes\\\";\\n                         })\\n                         .attr('visibility', function(d) {\\n                             return d.target.depth == 1 && !version2 ? 'hidden' : 'hidden'\\n                         })\\n\\n\\n                     tlink.exit().transition()\\n                         .duration(duration)\\n                         .attr(\\\"d\\\", function(d) {\\n                             var o = {\\n                                 x: source.x,\\n                                 y: source.y\\n                             };\\n                             return diagonal({\\n                                 source: o,\\n                                 target: o\\n                             });\\n                         })\\n                         .remove();\\n\\n                     // Transition links to their new position.\\n                     link.transition()\\n                         .duration(duration)\\n                         .attr(\\\"d\\\", diagonal)\\n                         .style(\\\"stroke-width\\\", function(d) {\\n\\n                             if (!d.target) {\\n                                 return link_stoke_scale(50)\\n                             } else {\\n                                 if (tree_branch) {\\n                                     //   console.log(d.target.size,'*100/',TOTAL_SIZE,link_stoke_scale(d.target.size*100/TOTAL_SIZE),tree_branch_parent)\\n                                     //   console.log(d.target.size,'*100/',d.source.size,link_stoke_scale(d.target.size*100/d.source.size),tree_branch_parent)\\n\\n                                     return tree_branch_parent ? link_stoke_scale(d.target.size * 100 / TOTAL_SIZE) : link_stoke_scale(d.target.size * 100 / d.source.size)\\n                                 } else {\\n\\n                                     return link_stoke_scale(50)\\n                                 }\\n                             }\\n                         });\\n\\n\\n                     // Transition exiting nodes to the parent's new position.\\n                     link.exit().transition()\\n                         .duration(duration)\\n                         .attr(\\\"d\\\", function(d) {\\n                             var o = {\\n                                 x: source.x,\\n                                 y: source.y\\n                             };\\n                             return diagonal({\\n                                 source: o,\\n                                 target: o\\n                             });\\n                         })\\n                         .remove();\\n\\n                     // Stash the old positions for transition.\\n                     nodes.forEach(function(d) {\\n                         d.x0 = d.x;\\n                         d.y0 = d.y;\\n                     });\\n\\n\\n                     // Toggle children on click.\\n                     function click(d) {\\n                         if (d.children) {\\n                             d._children = d.children;\\n                             d.children = null;\\n                         } else {\\n                             d.children = d._children;\\n                             d._children = null;\\n                         }\\n                         update(d, n_labels);\\n                     }\\n\\n\\n                 }\\n\\n\\n\\n\\n                 function createLabels(labels) {\\n\\n                    // Dive: Get legend location from shadow DOM\\n                    let legend_location;\\n                    const elements = $('.output-vis');\\n                    let shadow;\\n                    for (let elem of elements) {\\n                        shadow = elem.shadowRoot;\\n                        legend_location = $(shadow).find(\\\"#legendLocation\\\");\\n                        if ($(legend_location).length > 0) {\\n                            break;\\n                        }\\n                    }\\n\\n                     var Width = 400;\\n                     var Height = 80;\\n                     var Size = 400;\\n\\n                    $(legend_location).empty();\\n                     var svg1 = d3.select(legend_location[0])\\n                         .append(\\\"svg\\\")\\n                         .attr(\\\"width\\\", Width)\\n                         .attr(\\\"height\\\", Height);\\n\\n                     //console.log(labels.length)\\n                     //console.log(default_colors.slice(0,labels.length))\\n                     default_colors = default_colors.slice(0, labels.length)\\n                     if (default_colors.length == 2) default_colors.push('')\\n                     if (default_colors.length == 0) {\\n                         var c_l = default_colors\\n                     } else {\\n                         var c_l = default_colors\\n                     }\\n\\n                     for (i = 0; i < c_l.length; i++) {\\n\\n                         //console.log(labels[i],\\\"\\\",c_l[i])\\n\\n                         var legendG = svg1\\n                             .append(\\\"g\\\")\\n                             .attr(\\\"transform\\\", function(d) {\\n                                 return \\\"translate(\\\" + 0 + \\\",\\\" + (30 * i + Size / 33 + Size / 50) + \\\")\\\"; // place each legend on the right and bump each one down 15 pixels\\n                             })\\n                             .attr(\\\"class\\\", \\\"legend\\\");\\n\\n                         legendG.append(\\\"rect\\\") // make a matching color rect\\n                             .attr(\\\"width\\\", 15)\\n                             .attr(\\\"height\\\", 15)\\n                             .attr(\\\"fill\\\", c_l[i])\\n                             .style('visibility', function() {\\n                                 return labels[i] ? \\\"visible\\\" : \\\"hidden\\\"\\n                             });\\n\\n                         legendG.append(\\\"text\\\") // add the text\\n                             .text(labels[i])\\n                             .style(\\\"font-size\\\", 30)\\n                             .attr(\\\"y\\\", 12)\\n                             .attr(\\\"x\\\", 21);\\n\\n                     }\\n\\n                 }\\n    });\\n}\\n})\",\"multiquerydsl\":\"{\\n\\n}\",\"formula\":\"<style>\\n.node {\\n  cursor: pointer;\\n}\\n\\n.node circle {\\n  fill: #fff;\\n  stroke: steelblue;\\n  stroke-width: 1.5px;\\n}\\n\\n.node text {\\n  font: 10px sans-serif;\\n}\\n\\n.link {\\n  fill: none;\\n  stroke:#6ff800;\\n}\\n\\n.main{\\n    position: relative;\\n    top: 99px;\\n    z-index: 5\\n}\\n\\n\\n.tlink{\\n  stroke: rgb(158, 156, 156);\\nfont-family: Verdana;\\nfont-size: 12px;\\nstroke-width: 0.04em;\\n}\\n</style>\\n\\n<html lang=\\\"en\\\">\\n<head>\\n\\t<title>Decision tree</title>\\n</head>\\n<body>\\n    <div id=\\\"dataView\\\"></div>\\n    <div id=\\\"legendLocation\\\"></div>\\n</body>\",\"dimensions\":{\"metric\":[]}}}"},"id":"8cd8fed0-dc7f-11ea-9945-5110b858bbd6","migrationVersion":{"visualization":"7.10.0"},"references":[],"type":"visualization","updated_at":"2021-10-29T15:31:17.317Z","version":"WzIzLDJd"}
{"exportedCount":1,"missingRefCount":0,"missingReferences":[]}